

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using GEOS as library &mdash; GEOS 0.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="GEOS 0.2.0 documentation" href="index.html"/>
        <link rel="prev" title="Installation" href="users.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GEOS
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Google Earth Overlay Server (GEOS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="users.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="users.html#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="users.html#more-maps">More maps!</a></li>
<li class="toctree-l1"><a class="reference internal" href="users.html#creating-mapsources">Creating Mapsources</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using GEOS as library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-geos.mapsource">Reading mapsources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-geos.print">Printing maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-geos.geometry">Geometry</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GEOS</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Using GEOS as library</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/developers.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-geos-as-library">
<span id="using-geos-as-library"></span><h1>Using GEOS as library<a class="headerlink" href="#using-geos-as-library" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-geos.mapsource">
<span id="reading-mapsources"></span><span id="reading-mapsources"></span><h2>Reading mapsources<a class="headerlink" href="#module-geos.mapsource" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="geos.mapsource.MapLayer">
<em class="property">class </em><code class="descclassname">geos.mapsource.</code><code class="descname">MapLayer</code><span class="sig-paren">(</span><em>tile_url=None</em>, <em>min_zoom=1</em>, <em>max_zoom=17</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#MapLayer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>The layer object contained in a MapSource.</p>
<p>A MapSource can contain multiple layers.
A layer contains all information on how to access the tiles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tile_url</strong> &#8211; URL to the tiles which {$z}, {$x} and {$y} as placeholders.</li>
<li><strong>min_zoom</strong> (<em>int</em>) &#8211; minimal zoom level at which the layer is active</li>
<li><strong>max_zoom</strong> (<em>int</em>) &#8211; maximal zoom level at which the layer is active</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="geos.mapsource.MapLayer.get_tile_url">
<code class="descname">get_tile_url</code><span class="sig-paren">(</span><em>zoom</em>, <em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#MapLayer.get_tile_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapLayer.get_tile_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill the placeholders of the tile url with zoom, x and y.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span> <span class="o">=</span> <span class="n">MapSource</span><span class="o">.</span><span class="n">from_xml</span><span class="p">(</span><span class="s2">&quot;mapsources/osm.xml&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">get_tile_url</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">)</span>
<span class="go">&#39;http://tile.openstreetmap.org/42/43/44.png&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.mapsource.MapSource">
<em class="property">class </em><code class="descclassname">geos.mapsource.</code><code class="descname">MapSource</code><span class="sig-paren">(</span><em>id</em>, <em>name</em>, <em>folder=''</em>, <em>bbox=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#MapSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapSource" title="Permalink to this definition">¶</a></dt>
<dd><p>A MapSource contains Meta-Information of the map.
Additionally it can hold one or more MapLayers which contain the information
on how to access the tiles.</p>
<dl class="staticmethod">
<dt id="geos.mapsource.MapSource.from_xml">
<em class="property">static </em><code class="descname">from_xml</code><span class="sig-paren">(</span><em>xml_path</em>, <em>mapsource_prefix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#MapSource.from_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapSource.from_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a MapSource object from a MOBAC
mapsource xml.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xml_path</strong> &#8211; path to the MOBAC mapsource xml file.</li>
<li><strong>mapsource_prefix</strong> &#8211; root path of the mapsource folder.
Used to determine relative path within the maps
directory.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The Meta-Information is read from the xml
&lt;id&gt;, &lt;folder&gt;, &lt;name&gt; tags. If &lt;id&gt; is not available it defaults
to the xml file basename. If &lt;folder&gt; is not available if defaults to
the folder of the xml file with the <cite>mapsource_prefix</cite> removed.</p>
<p class="last">The function first tries &lt;url&gt;, &lt;minZoom&gt;, &lt;maxZoom&gt; from &lt;customMapSource&gt;
tags within the &lt;layers&gt; tag. If the &lt;layers&gt; tag is not available,
the function tries to find &lt;url&gt;, &lt;minZoom&gt; and &lt;maxZoom&gt; on the top level.
If none of thie information is found, a MapSourceException is raised.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#geos.mapsource.MapSource" title="geos.mapsource.MapSource">MapSource</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#geos.mapsource.MapSourceException" title="geos.mapsource.MapSourceException"><code class="xref py py-exc docutils literal"><span class="pre">MapSourceException</span></code></a> &#8211; when the xml file could not be parsed properly.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="geos.mapsource.MapSource.max_zoom">
<code class="descname">max_zoom</code><a class="headerlink" href="#geos.mapsource.MapSource.max_zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the maximal zoom level of all layers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the maximum of all zoom levels of all layers</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if no layers exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="geos.mapsource.MapSource.min_zoom">
<code class="descname">min_zoom</code><a class="headerlink" href="#geos.mapsource.MapSource.min_zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimal zoom level of all layers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the minimum of all zoom levels of all layers</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if no layers exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="geos.mapsource.MapSource.parse_xml_boundary">
<em class="property">static </em><code class="descname">parse_xml_boundary</code><span class="sig-paren">(</span><em>xml_region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#MapSource.parse_xml_boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapSource.parse_xml_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the geographic bounds from an XML element</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xml_region</strong> (<em>Element</em>) &#8211; The &lt;region&gt; tag as XML Element</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#geos.geometry.GeographicBB" title="geos.geometry.GeographicBB">GeographicBB</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="geos.mapsource.MapSource.parse_xml_layer">
<em class="property">static </em><code class="descname">parse_xml_layer</code><span class="sig-paren">(</span><em>xml_custom_map_source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#MapSource.parse_xml_layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapSource.parse_xml_layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one MapLayer from an XML element</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xml_custom_map_source</strong> (<em>Element</em>) &#8211; The &lt;customMapSource&gt; element tag wrapped
in a &lt;layers&gt; tag as XML Element</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#geos.mapsource.MapLayer" title="geos.mapsource.MapLayer">MapLayer</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="geos.mapsource.MapSource.parse_xml_layers">
<em class="property">static </em><code class="descname">parse_xml_layers</code><span class="sig-paren">(</span><em>xml_layers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#MapSource.parse_xml_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapSource.parse_xml_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the MapLayers from an XML element</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xml_layers</strong> (<em>Element</em>) &#8211; The &lt;layers&gt; tag as XML Element</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of MapLayer</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="geos.mapsource.MapSourceException">
<em class="property">exception </em><code class="descclassname">geos.mapsource.</code><code class="descname">MapSourceException</code><a class="reference internal" href="_modules/geos/mapsource.html#MapSourceException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.MapSourceException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="geos.mapsource.load_maps">
<code class="descclassname">geos.mapsource.</code><code class="descname">load_maps</code><span class="sig-paren">(</span><em>maps_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#load_maps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.load_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all xml map sources from a given directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>maps_dir</strong> &#8211; path to directory to search for maps</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict of MapSource</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.mapsource.walk_mapsources">
<code class="descclassname">geos.mapsource.</code><code class="descname">walk_mapsources</code><span class="sig-paren">(</span><em>mapsources</em>, <em>root=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/mapsource.html#walk_mapsources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.mapsource.walk_mapsources" title="Permalink to this definition">¶</a></dt>
<dd><p>recursively walk through foldernames of mapsources.</p>
<p>Like os.walk, only for a list of mapsources.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mapsources</strong> (<em>list of MapSource</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body">(root, foldernames, maps)</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapsources</span> <span class="o">=</span> <span class="n">load_maps</span><span class="p">(</span><span class="s2">&quot;test/mapsources&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">walk_mapsources</span><span class="p">(</span><span class="n">mapsources</span><span class="o">.</span><span class="n">values</span><span class="p">())])</span>
<span class="go">[(&#39;&#39;,</span>
<span class="go">  [&#39;asia&#39;, &#39;europe&#39;],</span>
<span class="go">  [&lt;MapSource: osm1 (root 1), n_layers: 1, min_zoom:5, max_zoom:18&gt;,</span>
<span class="go">   &lt;MapSource: osm10 (root 2), n_layers: 1, min_zoom:5, max_zoom:18&gt;]),</span>
<span class="go"> (&#39;/asia&#39;,</span>
<span class="go">  [],</span>
<span class="go">  [&lt;MapSource: osm6 (asia), n_layers: 1, min_zoom:5, max_zoom:18&gt;]),</span>
<span class="go"> (&#39;/europe&#39;,</span>
<span class="go">  [&#39;france&#39;, &#39;germany&#39;, &#39;switzerland&#39;],</span>
<span class="go">  [&lt;MapSource: osm4 (eruope 1), n_layers: 1, min_zoom:1, max_zoom:18&gt;]),</span>
<span class="go"> (&#39;/europe/france&#39;,</span>
<span class="go">  [],</span>
<span class="go">  [&lt;MapSource: osm2 (europe/france 1), n_layers: 1, min_zoom:5, max_zoom:18&gt;,</span>
<span class="go">   &lt;MapSource: osm3 (europe/france 2), n_layers: 1, min_zoom:1, max_zoom:18&gt;,</span>
<span class="go">   &lt;MapSource: osm5 (europe/france 3), n_layers: 1, min_zoom:5, max_zoom:18&gt;]),</span>
<span class="go"> (&#39;/europe/germany&#39;,</span>
<span class="go">  [],</span>
<span class="go">  [&lt;MapSource: osm7 (europe/germany 1), n_layers: 1, min_zoom:5, max_zoom:18&gt;,</span>
<span class="go">   &lt;MapSource: osm8 (europe/germany 2), n_layers: 1, min_zoom:5, max_zoom:18&gt;]),</span>
<span class="go"> (&#39;/europe/switzerland&#39;,</span>
<span class="go">  [],</span>
<span class="go">  [&lt;MapSource: osm9 (europe/switzerland), n_layers: 1, min_zoom:5, max_zoom:18&gt;])]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-geos.print">
<span id="printing-maps"></span><span id="printing-maps"></span><h2>Printing maps<a class="headerlink" href="#module-geos.print" title="Permalink to this headline">¶</a></h2>
<p>Module for printing maps / exporting them as pdf</p>
<dl class="exception">
<dt id="geos.print.MapPrintError">
<em class="property">exception </em><code class="descclassname">geos.print.</code><code class="descname">MapPrintError</code><a class="reference internal" href="_modules/geos/print.html#MapPrintError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.MapPrintError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="geos.print.add_scales_bar">
<code class="descclassname">geos.print.</code><code class="descname">add_scales_bar</code><span class="sig-paren">(</span><em>img</em>, <em>bbox</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/print.html#add_scales_bar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.add_scales_bar" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a scales bar to the  map.</p>
<p>Calculates the resolution at the current latitude and
inserts the corresponding scales bar on the map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>img</strong> (<em>Image</em>) &#8211; Image object to which the scales bar will be added.</li>
<li><strong>bbox</strong> (<em>TileBB</em>) &#8211; boundaries of the map</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.print.download_tile">
<code class="descclassname">geos.print.</code><code class="descname">download_tile</code><span class="sig-paren">(</span><em>map_layer</em>, <em>zoom</em>, <em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/print.html#download_tile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.download_tile" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a given tile from the tile server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>map_layer</strong> (<a class="reference internal" href="#geos.mapsource.MapLayer" title="geos.mapsource.MapLayer"><em>MapLayer</em></a>) &#8211; MapLayer object which provides the tile-url.</li>
<li><strong>zoom</strong> (<em>int</em>) &#8211; zoom level</li>
<li><strong>x</strong> (<em>int</em>) &#8211; Tile-x-coordinate</li>
<li><strong>y</strong> (<em>int</em>) &#8211; Tile-y-coordinate</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">temporary file containing the downloaded image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.print.dpi_to_dpmm">
<code class="descclassname">geos.print.</code><code class="descname">dpi_to_dpmm</code><span class="sig-paren">(</span><em>dpi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/print.html#dpi_to_dpmm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.dpi_to_dpmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert dpi (dots per inch) to dpmm (dots per millimeter)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dpi</strong> (<em>int</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dots per millimeter</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.print.get_print_bbox">
<code class="descclassname">geos.print.</code><code class="descname">get_print_bbox</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>zoom</em>, <em>width</em>, <em>height</em>, <em>dpi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/print.html#get_print_bbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.get_print_bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the tile bounding box based on position, map size and resolution.</p>
<p>The function returns the next larger tile-box, that covers the specified
page size in mm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) &#8211; map center x-coordinate in Mercator projection (EPSG:4326)</li>
<li><strong>y</strong> (<em>float</em>) &#8211; map center y-coordinate in Mercator projection (EPSG:4326)</li>
<li><strong>zoom</strong> (<em>int</em>) &#8211; tile zoom level to use for printing</li>
<li><strong>width</strong> (<em>float</em>) &#8211; page width in mm</li>
<li><strong>height</strong> (<em>float</em>) &#8211; page height in mm</li>
<li><strong>dpi</strong> (<em>int</em>) &#8211; resolution in dots per inch</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Bounding box of the map in TileCoordinates.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#geos.geometry.GridBB" title="geos.geometry.GridBB">GridBB</a></p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">get_print_bbox</span><span class="p">(</span><span class="mf">4164462.1505763642</span><span class="p">,</span> <span class="mf">985738.7965919945</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">297</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>
<span class="go">&#39;&lt;tile min: &lt;zoom: 14, x: 9891, y: 7786&gt;, max: &lt;zoom: 14, x: 9897, y: 7790&gt;&gt;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="geos.print.get_tiles">
<code class="descclassname">geos.print.</code><code class="descname">get_tiles</code><span class="sig-paren">(</span><em>map_layer</em>, <em>bbox</em>, <em>n_workers=16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/print.html#get_tiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.get_tiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Download tiles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>map_source</strong> (<a class="reference internal" href="#geos.mapsource.MapSource" title="geos.mapsource.MapSource"><em>MapSource</em></a>) &#8211; </li>
<li><strong>bbox</strong> (<em>TileBB</em>) &#8211; Bounding box delimiting the map</li>
<li><strong>n_workers</strong> (<em>int</em>) &#8211; number of threads to used for downloading.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>Dictionary mapping coordinates to temporary files.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">FileHandle</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict of file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.print.print_map">
<code class="descclassname">geos.print.</code><code class="descname">print_map</code><span class="sig-paren">(</span><em>map_source</em>, <em>x</em>, <em>y</em>, <em>zoom=14</em>, <em>width=297</em>, <em>height=210</em>, <em>dpi=300</em>, <em>format='pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/print.html#print_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.print_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Download map tiles and stitch them together in a single image, ready for printing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>map_source</strong> (<a class="reference internal" href="#geos.mapsource.MapSource" title="geos.mapsource.MapSource"><em>MapSource</em></a>) &#8211; Map to download</li>
<li><strong>x</strong> (<em>float</em>) &#8211; map center x-coordinate in Mercator projection (EPSG:4326)</li>
<li><strong>y</strong> (<em>float</em>) &#8211; map center y-coordinate in Mercator projection (EPSG:4326)</li>
<li><strong>zoom</strong> (<em>int</em>) &#8211; tile zoom level to use for printing</li>
<li><strong>width</strong> (<em>float</em>) &#8211; page width in mm</li>
<li><strong>height</strong> (<em>float</em>) &#8211; page height in mm</li>
<li><strong>dpi</strong> (<em>int</em>) &#8211; resolution in dots per inch</li>
<li><strong>format</strong> (<em>str</em>) &#8211; output format. Anything supported by <code class="docutils literal"><span class="pre">Pillow.Image.save</span></code>. E.g. &#8220;pdf&#8221;, &#8220;jpeg&#8221;, &#8220;png&#8221;.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">path of temporary output file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.print.stitch_map">
<code class="descclassname">geos.print.</code><code class="descname">stitch_map</code><span class="sig-paren">(</span><em>tiles</em>, <em>width</em>, <em>height</em>, <em>bbox</em>, <em>dpi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/print.html#stitch_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.print.stitch_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge tiles together into one image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tiles</strong> (<em>list of dict of file</em>) &#8211; tiles for each layer</li>
<li><strong>width</strong> (<em>float</em>) &#8211; page width in mm</li>
<li><strong>height</strong> (<em>height</em>) &#8211; page height in mm</li>
<li><strong>dpi</strong> (<em>dpi</em>) &#8211; resolution in dots per inch</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">merged map.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">PIL.Image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-geos.geometry">
<span id="geometry"></span><span id="geometry"></span><h2>Geometry<a class="headerlink" href="#module-geos.geometry" title="Permalink to this headline">¶</a></h2>
<p>Conversions between WGS84, Cartesian, Mercator and TMS coordinates and bounding boxes,
useful for converting geographic view ports as generated by Google Earth to TMS bounding boxes</p>
<dl class="class">
<dt id="geos.geometry.CartesianCoordinate">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">CartesianCoordinate</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#CartesianCoordinate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.CartesianCoordinate" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a coordinate in a geocentric Cartesian coordinate system</p>
<dl class="method">
<dt id="geos.geometry.CartesianCoordinate.length">
<code class="descname">length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#CartesianCoordinate.length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.CartesianCoordinate.length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.GeographicBB">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">GeographicBB</code><span class="sig-paren">(</span><em>min_lon=None</em>, <em>min_lat=None</em>, <em>max_lon=None</em>, <em>max_lat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicBB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicBB" title="Permalink to this definition">¶</a></dt>
<dd><p>A bounding box defined by two geographic coordinates</p>
<dl class="method">
<dt id="geos.geometry.GeographicBB.center">
<code class="descname">center</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicBB.center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicBB.center" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.GeographicBB.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicBB.intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicBB.intersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.GeographicBB.intersects">
<code class="descname">intersects</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicBB.intersects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicBB.intersects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.GeographicBB.to_mercator">
<code class="descname">to_mercator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicBB.to_mercator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicBB.to_mercator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.GeographicCoordinate">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">GeographicCoordinate</code><span class="sig-paren">(</span><em>lon=None</em>, <em>lat=None</em>, <em>height=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicCoordinate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicCoordinate" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a WGS84 Datum</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lon</strong> &#8211; longitude in degrees</li>
<li><strong>lat</strong> &#8211; latitude in degrees</li>
<li><strong>height</strong> &#8211; height in meters above the surface of the earth spheroid</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="geos.geometry.GeographicCoordinate.to_cartesian">
<code class="descname">to_cartesian</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicCoordinate.to_cartesian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicCoordinate.to_cartesian" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.GeographicCoordinate.to_mercator">
<code class="descname">to_mercator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GeographicCoordinate.to_mercator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GeographicCoordinate.to_mercator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.GridBB">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">GridBB</code><span class="sig-paren">(</span><em>zoom</em>, <em>min_x</em>, <em>min_y</em>, <em>max_x</em>, <em>max_y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GridBB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GridBB" title="Permalink to this definition">¶</a></dt>
<dd><p>A bounding box defined by two grid coordinates</p>
<dl class="method">
<dt id="geos.geometry.GridBB.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GridBB.intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GridBB.intersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.GridBB.intersections">
<code class="descname">intersections</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GridBB.intersections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GridBB.intersections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.GridBB.is_inside">
<code class="descname">is_inside</code><span class="sig-paren">(</span><em>tile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GridBB.is_inside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GridBB.is_inside" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.GridCoordinate">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">GridCoordinate</code><span class="sig-paren">(</span><em>zoom</em>, <em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GridCoordinate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GridCoordinate" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a position in a worldwide grid.</p>
<dl class="method">
<dt id="geos.geometry.GridCoordinate.encode_quad_tree">
<code class="descname">encode_quad_tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GridCoordinate.encode_quad_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GridCoordinate.encode_quad_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.GridCoordinate.zoom_in">
<code class="descname">zoom_in</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#GridCoordinate.zoom_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.GridCoordinate.zoom_in" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>GridCoordinate</em> &#8211; the four tiles of the next zoom level</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.MercatorBB">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">MercatorBB</code><span class="sig-paren">(</span><em>_min=&lt;class 'geos.geometry.MercatorCoordinate'&gt;</em>, <em>_max=&lt;class 'geos.geometry.MercatorCoordinate'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#MercatorBB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.MercatorBB" title="Permalink to this definition">¶</a></dt>
<dd><p>A bounding box defined by two mercator coordinates</p>
<dl class="method">
<dt id="geos.geometry.MercatorBB.to_tile">
<code class="descname">to_tile</code><span class="sig-paren">(</span><em>zoom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#MercatorBB.to_tile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.MercatorBB.to_tile" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts EPSG:900913 to tile coordinates in given zoom level</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.MercatorCoordinate">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">MercatorCoordinate</code><span class="sig-paren">(</span><em>x=None</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#MercatorCoordinate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.MercatorCoordinate" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a coordinate in Spherical Mercator EPSG:900913</p>
<dl class="method">
<dt id="geos.geometry.MercatorCoordinate.to_geographic">
<code class="descname">to_geographic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#MercatorCoordinate.to_geographic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.MercatorCoordinate.to_geographic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.MercatorCoordinate.to_tile">
<code class="descname">to_tile</code><span class="sig-paren">(</span><em>zoom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#MercatorCoordinate.to_tile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.MercatorCoordinate.to_tile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.RegionCoordinate">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">RegionCoordinate</code><span class="sig-paren">(</span><em>zoom</em>, <em>x</em>, <em>y</em>, <em>log_tiles_per_row=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#RegionCoordinate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.RegionCoordinate" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a region containing multiple tiles in a worldwide grid of regions.</p>
<p>A region is a square containing multiple tiles, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span> <span class="o">--</span> <span class="o">--</span>
<span class="o">|</span> <span class="mi">1</span><span class="o">|</span> <span class="mi">2</span><span class="o">|</span>
 <span class="o">--</span> <span class="o">--</span>
<span class="o">|</span> <span class="mi">3</span><span class="o">|</span> <span class="mi">4</span><span class="o">|</span>
 <span class="o">--</span> <span class="o">--</span>
</pre></div>
</div>
<p>A region must contain at least one tile and each row must have
a power of two of tiles. The size of the region is specified
with log2(tiles per row per region), e.g.</p>
<blockquote>
<div><ul class="simple">
<li>log_tiles_per_row = 0 means 2**0 = 1 tile</li>
<li>log_tiles_per_row = 2 means 2**2 = 4 tiles per row, thus 16 tiles per region.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>zoom</strong> (<em>int</em>) &#8211; clear.</li>
<li><strong>x</strong> (<em>int</em>) &#8211; clear.</li>
<li><strong>y</strong> (<em>int</em>) &#8211; clear.</li>
<li><strong>log_tiles_per_row</strong> (<em>int</em>) &#8211; size of the region as log2(tiles per row per region).</li>
<li><strong>to be at least 0</strong> (<em>needs</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="geos.geometry.RegionCoordinate.geographic_bounds">
<code class="descname">geographic_bounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#RegionCoordinate.geographic_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.RegionCoordinate.geographic_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.RegionCoordinate.get_tiles">
<code class="descname">get_tiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#RegionCoordinate.get_tiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.RegionCoordinate.get_tiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all TileCoordinates contained in the region</p>
</dd></dl>

<dl class="method">
<dt id="geos.geometry.RegionCoordinate.zoom_in">
<code class="descname">zoom_in</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#RegionCoordinate.zoom_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.RegionCoordinate.zoom_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geos.geometry.TileCoordinate">
<em class="property">class </em><code class="descclassname">geos.geometry.</code><code class="descname">TileCoordinate</code><span class="sig-paren">(</span><em>zoom</em>, <em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#TileCoordinate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.TileCoordinate" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a coordinate in a worldwide tile grid. (aka the google-system)</p>
<dl class="method">
<dt id="geos.geometry.TileCoordinate.geographic_bounds">
<code class="descname">geographic_bounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#TileCoordinate.geographic_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.TileCoordinate.geographic_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.TileCoordinate.resolution">
<code class="descname">resolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#TileCoordinate.resolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.TileCoordinate.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the tile resolution at the current position.</p>
<dl class="docutils">
<dt>The scale in WG84 depends on</dt>
<dd><ul class="first last simple">
<li>the zoom level (obviously)</li>
<li>the latitude</li>
<li>the tile size</li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<ul class="simple">
<li><a class="reference external" href="http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Resolution_and_Scale">http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Resolution_and_Scale</a></li>
<li><a class="reference external" href="http://gis.stackexchange.com/questions/7430/what-ratio-scales-do-google-maps-zoom-levels-correspond-to">http://gis.stackexchange.com/questions/7430/what-ratio-scales-do-google-maps-zoom-levels-correspond-to</a></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">meters per pixel</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geos.geometry.TileCoordinate.to_geographic">
<code class="descname">to_geographic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#TileCoordinate.to_geographic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.TileCoordinate.to_geographic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.TileCoordinate.to_mercator">
<code class="descname">to_mercator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#TileCoordinate.to_mercator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.TileCoordinate.to_mercator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="geos.geometry.TileCoordinate.zoom_in">
<code class="descname">zoom_in</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#TileCoordinate.zoom_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.TileCoordinate.zoom_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="geos.geometry.bboxiter">
<code class="descclassname">geos.geometry.</code><code class="descname">bboxiter</code><span class="sig-paren">(</span><em>tile_bounds</em>, <em>tiles_per_row_per_region=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#bboxiter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.bboxiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through a grid of regions defined by a TileBB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tile_bounds</strong> (<a class="reference internal" href="#geos.geometry.GridBB" title="geos.geometry.GridBB"><em>GridBB</em></a>) &#8211; </li>
<li><strong>tiles_per_row_per_region</strong> &#8211; Combine multiple tiles in one region.
E.g. if set to two, four tiles will be combined in one region.
See <cite>kml</cite> module description for more details. Leaving the
default value &#8216;1&#8217; simply yields all tiles in the bounding box.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If the number of regions would not be an integer due to specification
of the <cite>tiles_per_row_per_region</cite> parameter, the boundaries will
be rounded to the next smaller or next larger integer respectively.</p>
<p>Example:
We have the following bounding box with size 2x2 and set
tiles_per_row_per_region = 2, delimited by the coordinates (x, y):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">---</span> <span class="o">---</span>
    <span class="o">|</span>       <span class="o">|</span>
    <span class="o">|</span>       <span class="o">|</span>
    <span class="o">|</span>       <span class="o">|</span>
     <span class="o">---</span> <span class="o">---</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<p>Although this could be represented in one single region with two
tiles per row, it will create four regions:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">---</span> <span class="o">---</span>         <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">2</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">2</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="p">)</span>
    <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
     <span class="o">---</span> <span class="o">---</span>
    <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
     <span class="o">---</span> <span class="o">---</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>    <span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">2</span> <span class="o">=</span> <span class="mf">4.5</span> <span class="o">-&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="o">/</span><span class="mi">2</span> <span class="o">=</span> <span class="mf">3.5</span> <span class="o">-&gt;</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>Tuple</em> &#8211; all tuples (x, y) in the region delimited by the TileBB</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.geometry.griditer">
<code class="descclassname">geos.geometry.</code><code class="descname">griditer</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>ncol</em>, <em>nrow=None</em>, <em>step=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#griditer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.griditer" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through a grid of tiles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>int</em>) &#8211; x start-coordinate</li>
<li><strong>y</strong> (<em>int</em>) &#8211; y start-coordinate</li>
<li><strong>ncol</strong> (<em>int</em>) &#8211; number of tile columns</li>
<li><strong>nrow</strong> (<em>int</em>) &#8211; number of tile rows. If not specified, this
defaults to ncol, s.t. a quadratic region is
generated</li>
<li><strong>step</strong> (<em>int</em>) &#8211; clear. Analogous to range().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>Tuple</em> &#8211;</p>
<dl class="last docutils">
<dt>all tuples (x, y) in the region delimited by</dt>
<dd><p class="first last">(x, y), (x + ncol, y + ncol).</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geos.geometry.init_geometry">
<code class="descclassname">geos.geometry.</code><code class="descname">init_geometry</code><span class="sig-paren">(</span><em>tilesize=256.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geos/geometry.html#init_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geos.geometry.init_geometry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="users.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Gregor Sturm.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>